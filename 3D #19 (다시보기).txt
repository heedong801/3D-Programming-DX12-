5/10 pipeline01
픽셀 쉐이더 단계 준비하기
레스터라이저 단계
Fill mode 변만 그리면 wire 면 그리면 solid
Cull mode none 모든삼각형 다 그림, front는 전면 안그림

레스터라이즈가 컬링, 클리핑 다 함
멀티샘플링을 할꺼면 해당하는 버퍼랑 여기에 있는 변수 둘다 조정 필요
보수적 래스터라이제이젼을 쓰면 처리할 픽셀이 많아지지만 물리적인 처리면에서 더 정교해짐
굻은 변수들만 값 넣어주고 나머진 디폴트

뷰포트하고 시저는 반드시 셋해줘야함
뷰포트 여러개 쓸수 있지만 기하쉐이더 안쓰면 1개밖에 못사용

시저렉트 = 렌더링 할 영역지정, 모드걸 지워버림

command list reset시 RSSet뷰포트와 RS셋시저렉트 꼭 필수
적어도 1개의 뷰포트는 있어야함
width height는 랜더타겟영역  픽셀만큼
전체로 하면 TopLeft 0 등으로 수정

SV_POSITION 투영좌표계의 점이란 소리
SV_Target 색깔

게임 프레임워크

각 게임객체 당 쉐이더객체가 다른 건 그리는 데도 서로 다르기 때문

뷰포트와 시저렉트 겹친곳만 그려짐

Batch
일괄처리 - 같은특성의 작업을 모아서 한꺼번에 처리한다.

======================================================================================================
래스터라이저 : 프리미티브를 구성하는 픽셀들을 찾아내는 과정으로 그 과정중엔 클리핑 등이 있다.

RASTERIZER_DESC
FILL MODE : 삼각형의 선분만 그림(WIRE) 내부도 그리면 (SOLID)
CULL MODE : 다그림(NONE) 전면안그림(FRONT) 후면안그림(BACK)

카메라가 바라보는 방향과 면의 법선벡터가 같은 방향을 가리키면 은면
디폴트로 시계방향이 전면 그러므로 FrontCounterClockwise를 False로 해놓고 모델을 만들때 시계방향으로

DepthClipEnalbe 전에 있는 변수들은 지금 안씀 그냥 디폴트로 0 ( 쉐도우 매핑기법을 쓸때 이것들을 씀 )
Cull - 면의 방향에 따라 그리냐 안그리냐
Cliping - 깊이값에 따라 그리냐 안그리냐 < 래스터라이저에서 하는 중요한 일 >
투영좌표계( x y z w(z))를 w로 나누기(원근투영 나누기)하면 범위초과 점들은 안그림

MultisampleEnable 다중샘플링 사용할건지, 사용하고 싶으면 해당 버퍼 or 뷰도 사용한다고 셋팅 해줘야함
이후 변수들역시 지금은 넘어감

CONSERVATIVE RASTERIZATION MODE 온,오프(디폴트)
ON을 하게되면 픽셀들을 찾을 때 이 폴리곤의 내부에 있을때만 그리고 아니면 안그림
프리미티브를 구성하는 폴리곤의 조금이라도 걸쳐있는 픽셀들을 찾아내서 다음 파이프라인으로 보냄
이걸 ON을 하면 그려야지는 픽셀이 많아짐 폴리곤을 풍부하게 그릴 수 있고, 충돌처리에서도 조금이라도 걸친 픽셀 때문에 충돌처리가 됨 대신 모든 그래픽카드가 하드웨어적을 지원하진 않음

일반적으로 방금 설명한 위에서부터 아래로 4개 설정 후 다 디폴트값 넣어주면 됨

래스터라이저 설정( 뷰, 시저렉트 )필수!
뷰포트 : 렌더타겟의 어떤 사각형 영역에 투영사각형을 매핑할거냐 하는 구조체 (실제로 렌더링이될 영역)
RSSetViewports로 셋, 복수니 여러개 설정가능, 이 함수 호출시 그 이전 셋함수는 다 사라짐
뷰포트 개수가 1개 이상으로 설정 되어 있으면 기하셰이더를 사용해야만 가능
기하셰이더에서 쓸수 있는 SV_ViewportArraryIndex로 인덱스 구분이 가능(설정가능 뷰포트 최대개수 16개)

안쓰면 사용할수 있는 뷰포트는 1개밖에 못씀 몇개를 설정하든 ( 첫번째 뷰포트만 )
z값이 0~1 사이인 놈을 min, max로 리매핑, 일시적으로 카메라에 가까웠던 물체가 멀게, 또는 반대로 될 수 있음

시저렉트 : 이부분을 그리지 마 라고 잘라내는 사각형 영역 ( 이부분 남겨놓고 다 잘라내 )
포함되지 않은 영역은 래스터라이저에서 제거됨

커맨드 리셋후 꼭 해줘야함 그 다음에 렌더링하기위한 함수 
래스터라이즈 이후 RS 셋 뷰포트, 시저렉트 있어야 함 무조건 뷰포트 1개는 설정 해줘야함
뷰포트 크기와 시저렉트 크기 똑같아야 함

위에서 보는 뷰로 맵을 그리고 싶다면 상공에 카메라를 두어 새 뷰포트를 만들고 그려
UI들을 그려주는 카메라를 또 생성, 역시 뷰포트 시저렉트

SV_VertexID : 몇번째 버텍스
SV_Position : 변환된 정점

게임 오브젝트가 가져야 할것
-월드변환 행렬	( 어느 위치에 어떤 방향으로 되도록 그릴지 )
-메쉬	(뭘 그려야 할지)
-쉐이더 오브젝트(그리는 방법 표현)


