6/12 Lights
조명 계산의 효율성

월드좌표계 또는 모델좌표계 어디서 효율적인지에 따라 좌표계선정

계산식에서 미리 계산가능한 것들은 미리 계산한다.

두가지 기억해야 할 것
-배치처리
-미리 계산가능한 것은 미리 계산을 하자

조명맵, 조명매핑이란?
-미리 계산가능 한 조명에 대하여 값을 저장한 것

지연 조명 계산
-보이지 않을 픽셀에 대하여 조명 처리를 하지 않음
어떻게? 뷰 프러스텀 컬링

법선벡터만 구하는 셰이더를 만들어서 픽셀들의 렌더타겟에다가 저장을 미리 해놓는다
(조명계산 없이 그림)
두번째로 조명계산 하면서 그림

오브젝트 사이에서 차폐관계를 쉽게 계산할 수 있지만
픽셸세이더에서 픽셀사이에서 가려지는 관계를 알아야만 됨
일반적으로 뷰프러스텀 컬링 시간이 조명 처리시 걸리는 시간보다 적음
pipeline2
루트 시그너쳐

따라하기 18?

Light.hlsl
Shaders.h
Shaders.c--------------------------
UpdateShaderVariables 255의 배수
Render

Scene

3번째 과제

2번째과제를 조명처리 해서 그리는 것
f4를 1번 누르면 낮->밤->낮

낮일때는 디렉셔널 라이트 한개면 충분
밤일때는 조명10개이상,플레이어는 헤드라이트가 있어야함

객체들간의 가려지는 관계를 차폐 or 오클루젼이라고 함
가려지는 관계를 고려하려면 두가지 방법
-레이를 여러방향으로 쏴서 그 오브젝트에 도달하면 빛도 도달가능한거
-조명을 카메라로 생각하면 빛이 도달하는 부분은 카메라에 보일 거임

